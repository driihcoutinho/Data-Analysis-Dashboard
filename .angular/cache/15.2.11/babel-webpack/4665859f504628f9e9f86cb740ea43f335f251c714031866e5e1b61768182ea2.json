{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/adrie/Desktop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { IonicModule } from '@ionic/angular';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"../../services/navigation.service\";\nimport * as i3 from \"../../services/ui.service\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction LoginPage_ion_text_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-text\", 11)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.errorMessage);\n  }\n}\nfunction LoginPage_ion_spinner_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-spinner\", 12);\n  }\n}\nfunction LoginPage_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Login\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class LoginPage {\n  constructor(authService, navigationService, uiService) {\n    this.authService = authService;\n    this.navigationService = navigationService;\n    this.uiService = uiService;\n    this.loginData = {\n      email: '',\n      password: ''\n    };\n    this.isLoading = false;\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    // Verificar se já está autenticado\n    this.authService.isAuthenticated().subscribe(isAuth => {\n      if (isAuth) {\n        this.navigationService.navigateAfterLogin();\n      }\n    });\n  }\n  onLogin() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.loginData.email || !_this.loginData.password) {\n        _this.errorMessage = 'Please fill in all fields';\n        return;\n      }\n      try {\n        _this.isLoading = true;\n        _this.errorMessage = '';\n        yield _this.uiService.showLoading('Logging in...');\n        yield _this.authService.login(_this.loginData.email, _this.loginData.password);\n      } catch (error) {\n        console.error('Login error:', error);\n        _this.errorMessage = 'Invalid email or password';\n        yield _this.uiService.showError(_this.errorMessage);\n      } finally {\n        _this.isLoading = false;\n        yield _this.uiService.hideLoading();\n      }\n    })();\n  }\n  goToRegister() {\n    this.navigationService.navigateToRegister();\n  }\n  // Método para validar o formato do email\n  isValidEmail(email) {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  }\n  // Método para validar a senha\n  isValidPassword(password) {\n    return password.length >= 6;\n  }\n  // Método para validar o formulário antes do envio\n  validateForm() {\n    if (!this.loginData.email || !this.loginData.password) {\n      this.errorMessage = 'Please fill in all fields';\n      return false;\n    }\n    if (!this.isValidEmail(this.loginData.email)) {\n      this.errorMessage = 'Please enter a valid email address';\n      return false;\n    }\n    if (!this.isValidPassword(this.loginData.password)) {\n      this.errorMessage = 'Password must be at least 6 characters';\n      return false;\n    }\n    return true;\n  }\n  static {\n    this.ɵfac = function LoginPage_Factory(t) {\n      return new (t || LoginPage)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.NavigationService), i0.ɵɵdirectiveInject(i3.UiService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginPage,\n      selectors: [[\"app-login\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 22,\n      vars: 7,\n      consts: [[1, \"ion-padding\"], [3, \"ngSubmit\"], [\"loginForm\", \"ngForm\"], [\"position\", \"floating\"], [\"type\", \"email\", \"name\", \"email\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"color\", \"danger\", \"class\", \"error-message\", 4, \"ngIf\"], [\"expand\", \"block\", \"type\", \"submit\", 3, \"disabled\"], [\"name\", \"crescent\", 4, \"ngIf\"], [4, \"ngIf\"], [\"expand\", \"block\", \"fill\", \"clear\", 3, \"disabled\", \"click\"], [\"color\", \"danger\", 1, \"error-message\"], [\"name\", \"crescent\"]],\n      template: function LoginPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\");\n          i0.ɵɵtext(3, \"Login\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(4, \"ion-content\", 0)(5, \"form\", 1, 2);\n          i0.ɵɵlistener(\"ngSubmit\", function LoginPage_Template_form_ngSubmit_5_listener() {\n            return ctx.onLogin();\n          });\n          i0.ɵɵelementStart(7, \"ion-item\")(8, \"ion-label\", 3);\n          i0.ɵɵtext(9, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"ion-input\", 4);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_10_listener($event) {\n            return ctx.loginData.email = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(11, \"ion-item\")(12, \"ion-label\", 3);\n          i0.ɵɵtext(13, \"Password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"ion-input\", 5);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_14_listener($event) {\n            return ctx.loginData.password = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(15, LoginPage_ion_text_15_Template, 3, 1, \"ion-text\", 6);\n          i0.ɵɵelementStart(16, \"div\", 0)(17, \"ion-button\", 7);\n          i0.ɵɵtemplate(18, LoginPage_ion_spinner_18_Template, 1, 0, \"ion-spinner\", 8);\n          i0.ɵɵtemplate(19, LoginPage_span_19_Template, 2, 0, \"span\", 9);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"ion-button\", 10);\n          i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_20_listener() {\n            return ctx.goToRegister();\n          });\n          i0.ɵɵtext(21, \" Create Account \");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(10);\n          i0.ɵɵproperty(\"ngModel\", ctx.loginData.email);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.loginData.password);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"disabled\", ctx.isLoading);\n        }\n      },\n      dependencies: [IonicModule, i4.IonButton, i4.IonContent, i4.IonHeader, i4.IonInput, i4.IonItem, i4.IonLabel, i4.IonSpinner, i4.IonText, i4.IonTitle, i4.IonToolbar, i4.TextValueAccessor, CommonModule, i5.NgIf, FormsModule, i6.ɵNgNoValidate, i6.NgControlStatus, i6.NgControlStatusGroup, i6.RequiredValidator, i6.NgModel, i6.NgForm],\n      styles: [\"ion-content[_ngcontent-%COMP%] {\\n  --background: var(--ion-background-color);\\n}\\nion-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  margin: 20px auto;\\n}\\n\\nion-item[_ngcontent-%COMP%] {\\n  --background: transparent;\\n  --border-color: var(--ion-color-primary);\\n  --highlight-color-focused: var(--ion-color-primary);\\n  margin-bottom: 16px;\\n  border-radius: 4px;\\n}\\nion-item.item-has-focus[_ngcontent-%COMP%] {\\n  --highlight-background: var(--ion-color-primary);\\n}\\nion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] {\\n  --color: var(--ion-text-color);\\n}\\nion-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%] {\\n  --placeholder-color: var(--ion-color-medium);\\n  --color: var(--ion-text-color);\\n  margin-top: 8px;\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  display: block;\\n  text-align: center;\\n  background: rgba(var(--ion-color-danger-rgb), 0.1);\\n  padding: 8px;\\n  border-radius: 4px;\\n  margin: 16px 0;\\n}\\n.error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin: 0;\\n  font-size: 14px;\\n  color: var(--ion-color-danger);\\n}\\n\\nion-button[_ngcontent-%COMP%] {\\n  margin: 8px 0;\\n  height: 48px;\\n  --border-radius: 8px;\\n}\\nion-button[fill=clear][_ngcontent-%COMP%] {\\n  --color: var(--ion-color-primary);\\n  margin-top: 8px;\\n}\\nion-button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%] {\\n  width: 24px;\\n  height: 24px;\\n}\\n\\n@keyframes _ngcontent-%COMP%_fadeIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(10px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\nform[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_fadeIn 0.3s ease-out;\\n}\\n\\n@media (min-width: 768px) {\\n  ion-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] {\\n    margin-top: 60px;\\n  }\\n}\\n@media (prefers-color-scheme: dark) {\\n  ion-item[_ngcontent-%COMP%] {\\n    --border-color: var(--ion-color-primary-shade);\\n  }\\n  .error-message[_ngcontent-%COMP%] {\\n    background: rgba(var(--ion-color-danger-rgb), 0.2);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlDQUFBO0FBQ0Y7QUFDRTtFQUNFLGdCQUFBO0VBQ0EsaUJBQUE7QUFDSjs7QUFHQTtFQUNFLHlCQUFBO0VBQ0Esd0NBQUE7RUFDQSxtREFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFBRjtBQUVFO0VBQ0UsZ0RBQUE7QUFBSjtBQUdFO0VBQ0UsOEJBQUE7QUFESjtBQUlFO0VBQ0UsNENBQUE7RUFDQSw4QkFBQTtFQUNBLGVBQUE7QUFGSjs7QUFNQTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtFQUNBLGtEQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsY0FBQTtBQUhGO0FBS0U7RUFDRSxTQUFBO0VBQ0EsZUFBQTtFQUNBLDhCQUFBO0FBSEo7O0FBT0E7RUFDRSxhQUFBO0VBQ0EsWUFBQTtFQUNBLG9CQUFBO0FBSkY7QUFNRTtFQUNFLGlDQUFBO0VBQ0EsZUFBQTtBQUpKO0FBT0U7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQUxKOztBQVVBO0VBQ0U7SUFDRSxVQUFBO0lBQ0EsMkJBQUE7RUFQRjtFQVNBO0lBQ0UsVUFBQTtJQUNBLHdCQUFBO0VBUEY7QUFDRjtBQVVBO0VBQ0UsK0JBQUE7QUFSRjs7QUFZQTtFQUVJO0lBQ0UsZ0JBQUE7RUFWSjtBQUNGO0FBZUE7RUFDRTtJQUNFLDhDQUFBO0VBYkY7RUFnQkE7SUFDRSxrREFBQTtFQWRGO0FBQ0YiLCJmaWxlIjoibG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IpO1xyXG5cclxuICBmb3JtIHtcclxuICAgIG1heC13aWR0aDogNDAwcHg7XHJcbiAgICBtYXJnaW46IDIwcHggYXV0bztcclxuICB9XHJcbn1cclxuXHJcbmlvbi1pdGVtIHtcclxuICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gIC0tYm9yZGVyLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XHJcbiAgLS1oaWdobGlnaHQtY29sb3ItZm9jdXNlZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG5cclxuICAmLml0ZW0taGFzLWZvY3VzIHtcclxuICAgIC0taGlnaGxpZ2h0LWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxuICB9XHJcblxyXG4gIGlvbi1sYWJlbCB7XHJcbiAgICAtLWNvbG9yOiB2YXIoLS1pb24tdGV4dC1jb2xvcik7XHJcbiAgfVxyXG5cclxuICBpb24taW5wdXQge1xyXG4gICAgLS1wbGFjZWhvbGRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XHJcbiAgICAtLWNvbG9yOiB2YXIoLS1pb24tdGV4dC1jb2xvcik7XHJcbiAgICBtYXJnaW4tdG9wOiA4cHg7XHJcbiAgfVxyXG59XHJcblxyXG4uZXJyb3ItbWVzc2FnZSB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGJhY2tncm91bmQ6IHJnYmEodmFyKC0taW9uLWNvbG9yLWRhbmdlci1yZ2IpLCAwLjEpO1xyXG4gIHBhZGRpbmc6IDhweDtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgbWFyZ2luOiAxNnB4IDA7XHJcblxyXG4gIHAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xyXG4gIH1cclxufVxyXG5cclxuaW9uLWJ1dHRvbiB7XHJcbiAgbWFyZ2luOiA4cHggMDtcclxuICBoZWlnaHQ6IDQ4cHg7XHJcbiAgLS1ib3JkZXItcmFkaXVzOiA4cHg7XHJcblxyXG4gICZbZmlsbD1cImNsZWFyXCJdIHtcclxuICAgIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxuICAgIG1hcmdpbi10b3A6IDhweDtcclxuICB9XHJcblxyXG4gIGlvbi1zcGlubmVyIHtcclxuICAgIHdpZHRoOiAyNHB4O1xyXG4gICAgaGVpZ2h0OiAyNHB4O1xyXG4gIH1cclxufVxyXG5cclxuLy8gQW5pbWHDp8O1ZXNcclxuQGtleWZyYW1lcyBmYWRlSW4ge1xyXG4gIGZyb20ge1xyXG4gICAgb3BhY2l0eTogMDtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMHB4KTtcclxuICB9XHJcbiAgdG8ge1xyXG4gICAgb3BhY2l0eTogMTtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICB9XHJcbn1cclxuXHJcbmZvcm0ge1xyXG4gIGFuaW1hdGlvbjogZmFkZUluIDAuM3MgZWFzZS1vdXQ7XHJcbn1cclxuXHJcbi8vIFJlc3BvbnNpdmlkYWRlXHJcbkBtZWRpYSAobWluLXdpZHRoOiA3NjhweCkge1xyXG4gIGlvbi1jb250ZW50IHtcclxuICAgIGZvcm0ge1xyXG4gICAgICBtYXJnaW4tdG9wOiA2MHB4O1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gRGFyayBtb2RlIHN1cHBvcnRcclxuQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykge1xyXG4gIGlvbi1pdGVtIHtcclxuICAgIC0tYm9yZGVyLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1zaGFkZSk7XHJcbiAgfVxyXG5cclxuICAuZXJyb3ItbWVzc2FnZSB7XHJcbiAgICBiYWNrZ3JvdW5kOiByZ2JhKHZhcigtLWlvbi1jb2xvci1kYW5nZXItcmdiKSwgMC4yKTtcclxuICB9XHJcbn1cclxuIl19 */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UseUNBQUE7QUFDRjtBQUNFO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUdBO0VBQ0UseUJBQUE7RUFDQSx3Q0FBQTtFQUNBLG1EQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQUFGO0FBRUU7RUFDRSxnREFBQTtBQUFKO0FBR0U7RUFDRSw4QkFBQTtBQURKO0FBSUU7RUFDRSw0Q0FBQTtFQUNBLDhCQUFBO0VBQ0EsZUFBQTtBQUZKOztBQU1BO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0VBQ0Esa0RBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxjQUFBO0FBSEY7QUFLRTtFQUNFLFNBQUE7RUFDQSxlQUFBO0VBQ0EsOEJBQUE7QUFISjs7QUFPQTtFQUNFLGFBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7QUFKRjtBQU1FO0VBQ0UsaUNBQUE7RUFDQSxlQUFBO0FBSko7QUFPRTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBTEo7O0FBVUE7RUFDRTtJQUNFLFVBQUE7SUFDQSwyQkFBQTtFQVBGO0VBU0E7SUFDRSxVQUFBO0lBQ0Esd0JBQUE7RUFQRjtBQUNGO0FBVUE7RUFDRSwrQkFBQTtBQVJGOztBQVlBO0VBRUk7SUFDRSxnQkFBQTtFQVZKO0FBQ0Y7QUFlQTtFQUNFO0lBQ0UsOENBQUE7RUFiRjtFQWdCQTtJQUNFLGtEQUFBO0VBZEY7QUFDRjtBQUNBLGc1R0FBZzVHIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xyXG4gIC0tYmFja2dyb3VuZDogdmFyKC0taW9uLWJhY2tncm91bmQtY29sb3IpO1xyXG5cclxuICBmb3JtIHtcclxuICAgIG1heC13aWR0aDogNDAwcHg7XHJcbiAgICBtYXJnaW46IDIwcHggYXV0bztcclxuICB9XHJcbn1cclxuXHJcbmlvbi1pdGVtIHtcclxuICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gIC0tYm9yZGVyLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XHJcbiAgLS1oaWdobGlnaHQtY29sb3ItZm9jdXNlZDogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gIG1hcmdpbi1ib3R0b206IDE2cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogNHB4O1xyXG5cclxuICAmLml0ZW0taGFzLWZvY3VzIHtcclxuICAgIC0taGlnaGxpZ2h0LWJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxuICB9XHJcblxyXG4gIGlvbi1sYWJlbCB7XHJcbiAgICAtLWNvbG9yOiB2YXIoLS1pb24tdGV4dC1jb2xvcik7XHJcbiAgfVxyXG5cclxuICBpb24taW5wdXQge1xyXG4gICAgLS1wbGFjZWhvbGRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLW1lZGl1bSk7XHJcbiAgICAtLWNvbG9yOiB2YXIoLS1pb24tdGV4dC1jb2xvcik7XHJcbiAgICBtYXJnaW4tdG9wOiA4cHg7XHJcbiAgfVxyXG59XHJcblxyXG4uZXJyb3ItbWVzc2FnZSB7XHJcbiAgZGlzcGxheTogYmxvY2s7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGJhY2tncm91bmQ6IHJnYmEodmFyKC0taW9uLWNvbG9yLWRhbmdlci1yZ2IpLCAwLjEpO1xyXG4gIHBhZGRpbmc6IDhweDtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgbWFyZ2luOiAxNnB4IDA7XHJcblxyXG4gIHAge1xyXG4gICAgbWFyZ2luOiAwO1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYW5nZXIpO1xyXG4gIH1cclxufVxyXG5cclxuaW9uLWJ1dHRvbiB7XHJcbiAgbWFyZ2luOiA4cHggMDtcclxuICBoZWlnaHQ6IDQ4cHg7XHJcbiAgLS1ib3JkZXItcmFkaXVzOiA4cHg7XHJcblxyXG4gICZbZmlsbD1cImNsZWFyXCJdIHtcclxuICAgIC0tY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcclxuICAgIG1hcmdpbi10b3A6IDhweDtcclxuICB9XHJcblxyXG4gIGlvbi1zcGlubmVyIHtcclxuICAgIHdpZHRoOiAyNHB4O1xyXG4gICAgaGVpZ2h0OiAyNHB4O1xyXG4gIH1cclxufVxyXG5cclxuLy8gQW5pbWHDg8Knw4PCtWVzXHJcbkBrZXlmcmFtZXMgZmFkZUluIHtcclxuICBmcm9tIHtcclxuICAgIG9wYWNpdHk6IDA7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTBweCk7XHJcbiAgfVxyXG4gIHRvIHtcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XHJcbiAgfVxyXG59XHJcblxyXG5mb3JtIHtcclxuICBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2Utb3V0O1xyXG59XHJcblxyXG4vLyBSZXNwb25zaXZpZGFkZVxyXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHtcclxuICBpb24tY29udGVudCB7XHJcbiAgICBmb3JtIHtcclxuICAgICAgbWFyZ2luLXRvcDogNjBweDtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIERhcmsgbW9kZSBzdXBwb3J0XHJcbkBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtcclxuICBpb24taXRlbSB7XHJcbiAgICAtLWJvcmRlci1jb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnktc2hhZGUpO1xyXG4gIH1cclxuXHJcbiAgLmVycm9yLW1lc3NhZ2Uge1xyXG4gICAgYmFja2dyb3VuZDogcmdiYSh2YXIoLS1pb24tY29sb3ItZGFuZ2VyLXJnYiksIDAuMik7XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["IonicModule","CommonModule","FormsModule","i0","LoginPage","constructor","authService","navigationService","uiService","email","password","ngOnInit","isAuthenticated","subscribe","isAuth","navigateAfterLogin","onLogin","loginData","errorMessage","isLoading","showLoading","login","error","console","showError","hideLoading","goToRegister","navigateToRegister","isValidEmail","emailRegex","test","isValidPassword","length","validateForm","selectors","standalone","features","decls","vars","consts","template","ctx","styles"],"sourceRoot":"","sources":["C:\\Users\\adrie\\Desktop\\src\\app\\pages\\login\\login.page.ts","C:\\Users\\adrie\\Desktop\\src\\app\\pages\\login\\login.page.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { AuthService } from '../../services/auth.service';\r\nimport { NavigationService } from '../../services/navigation.service';\r\nimport { UiService } from '../../services/ui.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n  standalone: true,\r\n  imports: [IonicModule, CommonModule, FormsModule]\r\n})\r\nexport class LoginPage implements OnInit {\r\n  loginData = {\r\n    email: '',\r\n    password: ''\r\n  };\r\n\r\n  isLoading = false;\r\n  errorMessage = '';\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private navigationService: NavigationService,\r\n    private uiService: UiService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    // Verificar se já está autenticado\r\n    this.authService.isAuthenticated().subscribe(isAuth => {\r\n      if (isAuth) {\r\n        this.navigationService.navigateAfterLogin();\r\n      }\r\n    });\r\n  }\r\n\r\n  async onLogin() {\r\n    if (!this.loginData.email || !this.loginData.password) {\r\n      this.errorMessage = 'Please fill in all fields';\r\n      return;\r\n    }\r\n\r\n    try {\r\n      this.isLoading = true;\r\n      this.errorMessage = '';\r\n      await this.uiService.showLoading('Logging in...');\r\n      \r\n      await this.authService.login(this.loginData.email, this.loginData.password);\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      this.errorMessage = 'Invalid email or password';\r\n      await this.uiService.showError(this.errorMessage);\r\n    } finally {\r\n      this.isLoading = false;\r\n      await this.uiService.hideLoading();\r\n    }\r\n  }\r\n\r\n  goToRegister() {\r\n    this.navigationService.navigateToRegister();\r\n  }\r\n\r\n  // Método para validar o formato do email\r\n  isValidEmail(email: string): boolean {\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    return emailRegex.test(email);\r\n  }\r\n\r\n  // Método para validar a senha\r\n  isValidPassword(password: string): boolean {\r\n    return password.length >= 6;\r\n  }\r\n\r\n  // Método para validar o formulário antes do envio\r\n  validateForm(): boolean {\r\n    if (!this.loginData.email || !this.loginData.password) {\r\n      this.errorMessage = 'Please fill in all fields';\r\n      return false;\r\n    }\r\n\r\n    if (!this.isValidEmail(this.loginData.email)) {\r\n      this.errorMessage = 'Please enter a valid email address';\r\n      return false;\r\n    }\r\n\r\n    if (!this.isValidPassword(this.loginData.password)) {\r\n      this.errorMessage = 'Password must be at least 6 characters';\r\n      return false;\r\n    }\r\n\r\n    return true;\r\n  }\r\n}\r\n","<ion-header>\r\n  <ion-toolbar>\r\n    <ion-title>Login</ion-title>\r\n  </ion-toolbar>\r\n</ion-header>\r\n\r\n<ion-content class=\"ion-padding\">\r\n  <form (ngSubmit)=\"onLogin()\" #loginForm=\"ngForm\">\r\n    <ion-item>\r\n      <ion-label position=\"floating\">Email</ion-label>\r\n      <ion-input \r\n        type=\"email\" \r\n        [(ngModel)]=\"loginData.email\" \r\n        name=\"email\" \r\n        required>\r\n      </ion-input>\r\n    </ion-item>\r\n\r\n    <ion-item>\r\n      <ion-label position=\"floating\">Password</ion-label>\r\n      <ion-input \r\n        type=\"password\" \r\n        [(ngModel)]=\"loginData.password\" \r\n        name=\"password\" \r\n        required>\r\n      </ion-input>\r\n    </ion-item>\r\n\r\n    <ion-text color=\"danger\" *ngIf=\"errorMessage\" class=\"error-message\">\r\n      <p>{{ errorMessage }}</p>\r\n    </ion-text>\r\n\r\n    <div class=\"ion-padding\">\r\n      <ion-button expand=\"block\" type=\"submit\" [disabled]=\"isLoading\">\r\n        <ion-spinner name=\"crescent\" *ngIf=\"isLoading\"></ion-spinner>\r\n        <span *ngIf=\"!isLoading\">Login</span>\r\n      </ion-button>\r\n\r\n      <ion-button expand=\"block\" fill=\"clear\" (click)=\"goToRegister()\" [disabled]=\"isLoading\">\r\n        Create Account\r\n      </ion-button>\r\n    </div>\r\n  </form>\r\n</ion-content>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}